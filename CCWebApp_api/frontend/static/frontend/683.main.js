"use strict";(self.webpackChunkccwebapp=self.webpackChunkccwebapp||[]).push([[683],{3267:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(7294),r=n(6706),l=n(9250),s=n(4996);const c=function(e){return(0,r.$j)((function(e){return{isAuthenticated:e.auth.isAuthenticated,isLoading:e.auth.isLoading}}))((function(t){var n=localStorage.getItem("access");if(!t.isAuthenticated){if(!n)return console.log("no token"),a.createElement(l.Fg,{to:"/auth/admin-signin"});s.Z.get("/api/success/").then((function(n){return a.createElement(e,t)})).catch((function(e){return console.log("fail"),a.createElement(l.Fg,{to:"/auth/admin-signin"})}))}return a.createElement(e,t)}))}},2683:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var a=n(7294),r=n(5697),l=n.n(r),s=n(6706),c=n(3267),o=n(1295),i=n(3561),d=n(349),u=n(5147),m=n(4704);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l,s,c=[],o=!0,i=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(a=l.call(n)).done)&&(c.push(a.value),c.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{if(!o&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(i)throw r}}return c}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function h(e){var t,n,r,l=b((0,a.useState)(""),2),s=l[0],c=l[1],o=b((0,a.useState)(""),2),h=o[0],y=o[1],E=b((0,a.useState)(""),2),g=E[0],C=E[1],w=b((0,a.useState)("Newest-Oldest"),2),A=w[0],Z=w[1],S=b((0,a.useState)("All Year Levels"),2),v=S[0],k=S[1],L=b((0,a.useState)("All Departments"),2),N=L[0],I=L[1],x=b((0,a.useState)("All Courses"),2),T=x[0],j=x[1],O=b((0,a.useState)(""),2),D=O[0],R=O[1],F=function(e){Z(e)},Y=function(t){k(t),"All Year Levels"===t?(c(""),e.getClassesList("",h,g,"")):(c(t),e.getClassesList(t,h,g,""))},M=function(t){I(t),j("All Courses"),C(""),"All Departments"===t?(y(""),e.getClassesList(s,"","","")):(y(t),e.getClassesList(s,t,"",""))},_=function(t){j(t),"All Courses"===t?(C(""),e.getClassesList(s,h,"","")):(C(t),e.getClassesList(s,h,t,""))};return(0,a.useEffect)((function(){e.setsidebarState("class"),e.setsubsidebarState(null),e.setclassState("list"),e.setpageHeader("Manage Class","","Add and update classes. Assign student, room and subjects"),e.getClassesList("","","",""),e.getDepartments()}),[]),a.createElement(a.Fragment,null,a.createElement("div",{style:{backgroundColor:"#e9ecef",borderTopLeftRadius:"8px",borderTopRightRadius:"8px"}},a.createElement("div",{style:{backgroundColor:"#ffffff",height:"72px",borderRadius:"8px",display:"flex",alignItems:"center",padding:"24px"}},a.createElement("div",{onClick:function(){return t=D,void e.getClassesList(s,h,g,t);var t},style:{cursor:"pointer"}},a.createElement(m.lb,null)),a.createElement(i.Z,{style:{width:"30%"}},a.createElement(i.Z.Group,{controlId:"searchbar"},a.createElement(i.Z.Control,{type:"search",placeholder:"Search Class, Subject or Teacher",value:D,onChange:function(e){R(e.target.value)},style:{border:"none",width:"100%"}}))),a.createElement("h1",{className:"inter-500-16px",style:{paddingTop:"10px"}},"Sort:"),a.createElement(d.Z,{style:{width:"16%"}},a.createElement(d.Z.Toggle,{id:"dropdown-basic",style:{border:"none",backgroundColor:"rgba(51, 51, 51, 0.00)",color:"black",width:"100%",display:"flex",alignItems:"center",outline:"none",justifyContent:"space-between"}},a.createElement("div",null,A)),a.createElement(d.Z.Menu,{style:{width:"100%"}},"Newest-Oldest"!==A&&a.createElement(d.Z.Item,{onClick:function(){return F("Newest-Oldest")}},"Newest-Oldest"),"Oldest-Newest"!==A&&a.createElement(d.Z.Item,{onClick:function(){return F("Oldest-Newest")}},"Oldest-Newest"),"A-Z"!==A&&a.createElement(d.Z.Item,{onClick:function(){return F("A-Z")}},"A-Z"),"Z-A"!==A&&a.createElement(d.Z.Item,{onClick:function(){return F("Z-A")}},"Z-A"))),a.createElement("h1",{className:"inter-500-16px",style:{paddingTop:"10px",marginLeft:"20px"}},"Filter:"),a.createElement(d.Z,{style:{width:"16%"}},a.createElement(d.Z.Toggle,{id:"dropdown-basic",style:{border:"none",backgroundColor:"rgba(51, 51, 51, 0.00)",color:"black",width:"100%",display:"flex",alignItems:"center",outline:"none",justifyContent:"space-between"}},a.createElement("div",null,v)),a.createElement(d.Z.Menu,{style:{width:"100%"}},"All Year Levels"!==v&&a.createElement(d.Z.Item,{onClick:function(){return Y("All Year Levels")}},"All Year Levels"),"1st"!==v&&a.createElement(d.Z.Item,{onClick:function(){return Y("First Year")}},"1st"),"2nd"!==v&&a.createElement(d.Z.Item,{onClick:function(){return Y("Second Year")}},"2nd"),"3rd"!==v&&a.createElement(d.Z.Item,{onClick:function(){return Y("Third Year")}},"3rd"),"4th"!==v&&a.createElement(d.Z.Item,{onClick:function(){return Y("Fourth Year")}},"4th"),"5th"!==v&&a.createElement(d.Z.Item,{onClick:function(){return Y("Fifth Year")}},"5th"))),a.createElement(d.Z,{style:{width:"16%"}},a.createElement(d.Z.Toggle,{id:"dropdown-basic",style:{border:"none",backgroundColor:"rgba(51, 51, 51, 0.00)",color:"black",width:"100%",display:"flex",alignItems:"center",outline:"none",justifyContent:"space-between"}},a.createElement("div",null,N)),a.createElement(d.Z.Menu,{style:{width:"100%"}},"All Departments"!==N&&a.createElement(d.Z.Item,{onClick:function(){return M("All Departments")}},"All Departments"),e.departmentsList.filter((function(e){return e.code!==N})).map((function(e){return a.createElement(d.Z.Item,{key:e.code,onClick:function(){return M(e.code)}},e.code)})))),a.createElement(d.Z,{style:{width:"16%"}},a.createElement(d.Z.Toggle,{id:"dropdown-basic",style:{border:"none",backgroundColor:"rgba(51, 51, 51, 0.00)",color:"black",width:"100%",display:"flex",alignItems:"center",outline:"none",justifyContent:"space-between"}},a.createElement("div",null,T)),a.createElement(d.Z.Menu,{style:{width:"100%"}},"All Courses"!==T&&a.createElement(d.Z.Item,{onClick:function(){return _("All Courses")}},"All Courses"),"All Departments"===N?e.departmentsList.flatMap((function(e){return e.related_course})).filter((function(e){return e!==T})).map((function(e,t){return a.createElement(d.Z.Item,{key:t,onClick:function(){return _(e)}},e)})):null===(t=e.departmentsList.filter((function(e){return e.code===N}))[0])||void 0===t?void 0:t.related_course.filter((function(e){return e!==T})).map((function(e){return a.createElement(d.Z.Item,{key:e,onClick:function(){return _(e)}},e)}))))),a.createElement("div",{style:{height:"40px",backgroundColor:"rgba(51, 51, 51, 0.00)",margin:"0px"}}),a.createElement("div",{style:{backgroundColor:"#ffffff",borderRadius:"8px"}},a.createElement("div",{style:{height:"81px",display:"flex"}},a.createElement("h1",{className:"table-title"},"List of Classes")),a.createElement(u.Z,{hover:!0,style:{border:"none"}},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:"table-head",style:{width:"20%",paddingLeft:"20px"}},"CLASSNAME"),a.createElement("th",{className:"table-head",style:{width:"10%"}},"SUBJECT"),a.createElement("th",{className:"table-head",style:{width:"8%"}},"UNITS"),a.createElement("th",{className:"table-head",style:{width:"8%"}},"LEC"),a.createElement("th",{className:"table-head",style:{width:"8%"}},"LAB"),a.createElement("th",{className:"table-head",style:{width:"15%"}},"YEAR"),a.createElement("th",{className:"table-head",style:{width:"10%"}},"COURSE"),a.createElement("th",{className:"table-head",style:{width:"10%"}},"STUDENTS"),a.createElement("th",{className:"table-head",style:{width:"15%"}},"TEACHER"),a.createElement("th",{className:"table-head"},"ACTION"))),a.createElement("tbody",{style:{cursor:"pointer"}},null===(n=(r=e.classesListForTable,function(e){if(Array.isArray(e))return p(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||f(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort((function(e,t){switch(A){case"Newest-Oldest":return new Date(t.date_created)-new Date(e.date_created);case"Oldest-Newest":return new Date(e.date_created)-new Date(t.date_created);case"A-Z":return e.code.localeCompare(t.code);case"Z-A":return t.code.localeCompare(e.code);default:return 0}})))||void 0===n?void 0:n.map((function(e){return a.createElement("tr",{key:e.code,style:{border:"none"}},a.createElement("td",{className:"table-body",style:{paddingLeft:"20px"}},e.code),a.createElement("td",{className:"table-body"},e.subject.code),a.createElement("td",{className:"table-body"},e.subject.units),a.createElement("td",{className:"table-body"},e.subject.lecture),a.createElement("td",{className:"table-body"},e.subject.lab),a.createElement("td",{className:"table-body"},e.yearlevel),a.createElement("td",{className:"table-body"},e.course),a.createElement("td",{className:"table-body"},e.students.length),a.createElement("td",{className:"table-body"},e.teacher.userprofile.first_name," ",e.teacher.userprofile.last_name),a.createElement("td",{className:"table-body"},a.createElement(d.Z,null,a.createElement(d.Z.Toggle,{id:"dropdown-basic",style:{border:"none",backgroundColor:"#e9ecef",color:"rgba(51, 51, 51, 0.00)",width:"38px",height:"38px",display:"flex",alignItems:"center",outline:"none",justifyContent:"center",marginLeft:"10px"}},a.createElement("h2",{style:{color:"#8A92A6",marginLeft:"12px",marginBottom:"15px"}},"...")),a.createElement(d.Z.Menu,null,a.createElement(d.Z.Item,null,a.createElement("h1",{className:"dropdown-item"},"View Students List")),a.createElement(d.Z.Item,null,a.createElement("h1",{className:"dropdown-item"},"Update Class"))))))})))),a.createElement("div",{style:{height:"10px"}}))))}h.propTypes={sidebarState:l().string,setsidebarState:l().func.isRequired,subsidebarState:l().string,setsubsidebarState:l().func.isRequired,classState:l().string,pageHeader:l().object,setpageHeader:l().func.isRequired,classesListForTable:l().array,getClassesList:l().func,getDepartments:l().func,departmentsList:l().array.isRequired};const y=(0,c.Z)((0,s.$j)((function(e){return{sidebarState:e.main.sidebarState,subsidebarState:e.main.subsidebarState,classState:e.main.classState,pageHeader:e.main.pageHeader,classesListForTable:e.main.classesListForTable,departmentsList:e.main.departmentsList}}),{setsidebarState:o.Mt,setsubsidebarState:o.aj,setclassState:o.gd,setpageHeader:o.EQ,getClassesList:o.wB,getDepartments:o.Ps})(h))}}]);