"use strict";(self.webpackChunkccwebapp=self.webpackChunkccwebapp||[]).push([[405],{3267:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7294),a=n(6706),l=n(9250),o=n(4996);const s=function(e){return(0,a.$j)((function(e){return{isAuthenticated:e.auth.isAuthenticated,isLoading:e.auth.isLoading}}))((function(t){var n=localStorage.getItem("access");if(!t.isAuthenticated){if(!n)return console.log("no token"),r.createElement(l.Fg,{to:"/auth/admin-signin"});o.Z.get("/api/success/").then((function(n){return r.createElement(e,t)})).catch((function(e){return console.log("fail"),r.createElement(l.Fg,{to:"/auth/admin-signin"})}))}return r.createElement(e,t)}))}},7405:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(7294),a=n(5697),l=n.n(a),o=n(6706),s=n(3267),c=n(1295),i=n(3561),u=n(6135),m=n(5147),d=n(4704);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l,o,s=[],c=!0,i=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=l.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(i)throw a}}return s}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t,n,a,l=E((0,r.useState)(""),2),o=l[0],s=l[1],c=E((0,r.useState)(""),2),g=c[0],b=c[1],h=E((0,r.useState)(""),2),y=h[0],w=h[1],Z=E((0,r.useState)(""),2),I=Z[0],S=Z[1],v=E((0,r.useState)("Newest-Oldest"),2),C=v[0],k=v[1],A=E((0,r.useState)("All Status"),2),N=A[0],x=A[1],L=E((0,r.useState)("All Year Levels"),2),P=L[0],F=L[1],j=E((0,r.useState)("All Departments"),2),D=j[0],R=j[1],T=E((0,r.useState)("All Courses"),2),O=T[0],_=T[1],M=E((0,r.useState)(""),2),V=M[0],q=M[1],U=function(e){k(e)},Y=function(t){x(t),"All Status"===t?(s(""),e.getStudents("",g,y,I,"")):(s(t),e.getStudents(t,g,y,I,""))},H=function(t){F(t),"All Year Levels"===t?(b(""),e.getStudents(o,"",y,I,"")):(b(t),e.getStudents(o,t,y,I,""))},$=function(t){R(t),_("All Courses"),S(""),"All Departments"===t?(w(""),e.getStudents(o,g,"","","")):(w(t),e.getStudents(o,g,t,"",""))},J=function(t){_(t),"All Courses"===t?(S(""),e.getStudents(o,g,y,"","")):(S(t),e.getStudents(o,g,y,t,""))};return(0,r.useEffect)((function(){e.setsidebarState("users"),e.setsubsidebarState("students"),e.setpageHeader("Manage Students","{semester} {SY: 20xx-20xx}","Manage students here. Enroll, Update, Evaluate etc."),e.getStudents("","","","",""),e.getDepartments();var t=new WebSocket("wss://https://ccwebapp-api.onrender.com/ws/dbupdatetrigger/");return t.onmessage=function(t){"student_model_update"===JSON.parse(t.data).event&&e.getStudents()},function(){t.close()}}),[]),r.createElement(r.Fragment,null,r.createElement("div",{style:{backgroundColor:"#e9ecef",borderTopLeftRadius:"8px",borderTopRightRadius:"8px"}},r.createElement("div",{style:{backgroundColor:"#ffffff",height:"72px",borderRadius:"8px",display:"flex",alignItems:"center",padding:"24px"}},r.createElement("div",{onClick:function(){return t=V,void e.getStudents(o,g,y,I,t);var t},style:{cursor:"pointer"}},r.createElement(d.lb,null)),r.createElement(i.Z,{style:{width:"30%"}},r.createElement(i.Z.Group,{controlId:"searchbar"},r.createElement(i.Z.Control,{type:"search",placeholder:"Search student name or student id...",value:V,onChange:function(e){q(e.target.value)},style:{border:"none",width:"100%"}}))),r.createElement("h1",{className:"inter-500-16px",style:{paddingTop:"10px"}},"Sort:"),r.createElement(u.Z,{style:{width:"16%"}},r.createElement(u.Z.Toggle,{id:"dropdown-basic",style:{border:"none",backgroundColor:"rgba(51, 51, 51, 0.00)",color:"black",width:"100%",display:"flex",alignItems:"center",outline:"none",justifyContent:"space-between"}},r.createElement("div",null,C)),r.createElement(u.Z.Menu,{style:{width:"100%"}},"Newest-Oldest"!==C&&r.createElement(u.Z.Item,{onClick:function(){return U("Newest-Oldest")}},"Newest-Oldest"),"Oldest-Newest"!==C&&r.createElement(u.Z.Item,{onClick:function(){return U("Oldest-Newest")}},"Oldest-Newest"),"A-Z"!==C&&r.createElement(u.Z.Item,{onClick:function(){return U("A-Z")}},"A-Z"),"Z-A"!==C&&r.createElement(u.Z.Item,{onClick:function(){return U("Z-A")}},"Z-A"))),r.createElement("h1",{className:"inter-500-16px",style:{paddingTop:"10px",marginLeft:"20px"}},"Filter:"),r.createElement(u.Z,{style:{width:"16%"}},r.createElement(u.Z.Toggle,{id:"dropdown-basic",style:{border:"none",backgroundColor:"rgba(51, 51, 51, 0.00)",color:"black",width:"100%",display:"flex",alignItems:"center",outline:"none",justifyContent:"space-between"}},r.createElement("div",null,N)),r.createElement(u.Z.Menu,{style:{width:"100%"}},"All Status"!==N&&r.createElement(u.Z.Item,{onClick:function(){return Y("All Status")}},"All Status"),"Verification Failed"!==N&&r.createElement(u.Z.Item,{onClick:function(){return Y("Verification Failed")}},"Verification Failed"),"For Evaluation"!==N&&r.createElement(u.Z.Item,{onClick:function(){return Y("For Evaluation")}},"For Evaluation"),"Evaluation In Progress"!==N&&r.createElement(u.Z.Item,{onClick:function(){return Y("Evaluation In Progress")}},"Evaluation In Progress"),"Evaluation Complete"!==N&&r.createElement(u.Z.Item,{onClick:function(){return Y("Evaluation Complete")}},"Evaluation Complete"),"Pending Payment"!==N&&r.createElement(u.Z.Item,{onClick:function(){return Y("Pending Payment")}},"Pending Payment"),"Payment Received"!==N&&r.createElement(u.Z.Item,{onClick:function(){return Y("Payment Received")}},"Payment Received"),"Enrolled"!==N&&r.createElement(u.Z.Item,{onClick:function(){return Y("Enrolled")}},"Enrolled"),"Draft"!==N&&r.createElement(u.Z.Item,{onClick:function(){return Y("Draft")}},"Draft"))),r.createElement(u.Z,{style:{width:"16%"}},r.createElement(u.Z.Toggle,{id:"dropdown-basic",style:{border:"none",backgroundColor:"rgba(51, 51, 51, 0.00)",color:"black",width:"100%",display:"flex",alignItems:"center",outline:"none",justifyContent:"space-between"}},r.createElement("div",null,P)),r.createElement(u.Z.Menu,{style:{width:"100%"}},"All Year Levels"!==P&&r.createElement(u.Z.Item,{onClick:function(){return H("All Year Levels")}},"All Year Levels"),"1st"!==P&&r.createElement(u.Z.Item,{onClick:function(){return H("1st")}},"1st"),"2nd"!==P&&r.createElement(u.Z.Item,{onClick:function(){return H("2nd")}},"2nd"),"3rd"!==P&&r.createElement(u.Z.Item,{onClick:function(){return H("3rd")}},"3rd"),"4th"!==P&&r.createElement(u.Z.Item,{onClick:function(){return H("4th")}},"4th"),"5th"!==P&&r.createElement(u.Z.Item,{onClick:function(){return H("5th")}},"5th"),"Irregular"!==P&&r.createElement(u.Z.Item,{onClick:function(){return H("Irregular")}},"Irregular"))),r.createElement(u.Z,{style:{width:"16%"}},r.createElement(u.Z.Toggle,{id:"dropdown-basic",style:{border:"none",backgroundColor:"rgba(51, 51, 51, 0.00)",color:"black",width:"100%",display:"flex",alignItems:"center",outline:"none",justifyContent:"space-between"}},r.createElement("div",null,D)),r.createElement(u.Z.Menu,{style:{width:"100%"}},"All Departments"!==D&&r.createElement(u.Z.Item,{onClick:function(){return $("All Departments")}},"All Departments"),e.departmentsList.filter((function(e){return e.code!==D})).map((function(e){return r.createElement(u.Z.Item,{key:e.code,onClick:function(){return $(e.code)}},e.code)})))),r.createElement(u.Z,{style:{width:"16%"}},r.createElement(u.Z.Toggle,{id:"dropdown-basic",style:{border:"none",backgroundColor:"rgba(51, 51, 51, 0.00)",color:"black",width:"100%",display:"flex",alignItems:"center",outline:"none",justifyContent:"space-between"}},r.createElement("div",null,O)),r.createElement(u.Z.Menu,{style:{width:"100%"}},"All Courses"!==O&&r.createElement(u.Z.Item,{onClick:function(){return J("All Courses")}},"All Courses"),"All Departments"===D?e.departmentsList.flatMap((function(e){return e.related_course})).filter((function(e){return e!==O})).map((function(e,t){return r.createElement(u.Z.Item,{key:t,onClick:function(){return J(e)}},e)})):null===(t=e.departmentsList.filter((function(e){return e.code===D}))[0])||void 0===t?void 0:t.related_course.filter((function(e){return e!==O})).map((function(e){return r.createElement(u.Z.Item,{key:e,onClick:function(){return J(e)}},e)}))))),r.createElement("div",{style:{height:"40px",backgroundColor:"rgba(51, 51, 51, 0.00)",margin:"0px"}}),r.createElement("div",{style:{backgroundColor:"#ffffff",borderRadius:"8px"}},r.createElement("div",{style:{height:"81px",display:"flex"}},r.createElement("h1",{className:"table-title"},"List of Students")),r.createElement(m.Z,{hover:!0,style:{border:"none"}},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"table-head",style:{width:"15%",paddingLeft:"20px"}},"IDs"),r.createElement("th",{className:"table-head",style:{width:"23%"}},"FULL NAME"),r.createElement("th",{className:"table-head",style:{width:"13%"}},"COURSE"),r.createElement("th",{className:"table-head",style:{width:"13%"}},"DEPARTMENT"),r.createElement("th",{className:"table-head",style:{width:"10%"}},"YEAR"),r.createElement("th",{className:"table-head",style:{width:"20%"}},"STATUS"),r.createElement("th",{className:"table-head"},"ACTION"))),r.createElement("tbody",{style:{cursor:"pointer"}},null===(n=(a=e.studentsList,function(e){if(Array.isArray(e))return p(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||f(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort((function(e,t){switch(C){case"Newest-Oldest":return new Date(t.userprofile.date_joined)-new Date(e.userprofile.date_joined);case"Oldest-Newest":return new Date(e.userprofile.date_joined)-new Date(t.userprofile.date_joined);case"A-Z":return e.userprofile.last_name.localeCompare(t.userprofile.last_name);case"Z-A":return t.userprofile.last_name.localeCompare(e.userprofile.last_name);default:return 0}})))||void 0===n?void 0:n.map((function(e){return r.createElement("tr",{key:e.id,style:{border:"none"}},r.createElement("td",{className:"table-body",style:{paddingLeft:"20px"}},e.id),r.createElement("td",{className:"table-body"},e.userprofile.first_name," ",e.userprofile.last_name," ",new Date-new Date(e.userprofile.date_joined)<=2592e5&&r.createElement(d.J1,null)),r.createElement("td",{className:"table-body"},e.course.code),r.createElement("td",{className:"table-body"},e.course.department.code),r.createElement("td",{className:"table-body"},e.yearlevel),r.createElement("td",{className:"table-body"},function(){switch(e.status){case"Verification Failed":return r.createElement(d.$x,null);case"For Evaluation":return r.createElement(d.fI,null);case"Evaluation In Progress":return r.createElement(d.uo,null);case"Evaluation Complete":return r.createElement(d.Cb,null);case"Pending Payment":return r.createElement(d.sp,null);case"Payment Received":return r.createElement(d.RT,null);case"Enrolled":return r.createElement(d.pg,null);default:return r.createElement(d.nu,null)}}()),r.createElement("td",{className:"table-body"},r.createElement(u.Z,null,r.createElement(u.Z.Toggle,{id:"dropdown-basic",style:{border:"none",backgroundColor:"#e9ecef",color:"rgba(51, 51, 51, 0.00)",width:"38px",height:"38px",display:"flex",alignItems:"center",outline:"none",justifyContent:"center",marginLeft:"10px"}},r.createElement("h2",{style:{color:"#8A92A6",marginLeft:"12px",marginBottom:"15px"}},"...")),r.createElement(u.Z.Menu,null,"Verification Failed"===e.status&&r.createElement(r.Fragment,null,r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"View Student"))),"For Evaluation"===e.status&&r.createElement(r.Fragment,null,r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"View Student")),r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"Update To Evaluation In Progress")),r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"Reject This Student"))),"Evaluation In Progress"===e.status&&r.createElement(r.Fragment,null,r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"View Student")),r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"Evaluation Complete")),r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"Contact Student"))),"Evaluation Complete"===e.status&&r.createElement(r.Fragment,null,r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"View Student")),r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"Notify Student Via Portal & Email"))),"Pending Payment"===e.status&&r.createElement(r.Fragment,null,r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"View Student")),r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"Input Payment Information"))),"Payment Received"===e.status&&r.createElement(r.Fragment,null,r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"View Student")),r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"Marked As Enrolled")),r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"Student Verification Failed"))),"Enrolled"===e.status&&r.createElement(r.Fragment,null,r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"View Student"))),"Draft"===e.status&&r.createElement(r.Fragment,null,r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"Update Student Info")),r.createElement(u.Z.Item,null,r.createElement("h1",{className:"dropdown-item"},"Delete")))))))})))),r.createElement("div",{style:{height:"10px"}}))))}g.propTypes={sidebarState:l().string,subsidebarState:l().string,pageHeader:l().object,studentsList:l().array.isRequired,departmentsList:l().array.isRequired,setsidebarState:l().func.isRequired,setsubsidebarState:l().func.isRequired,setpageHeader:l().func.isRequired,getStudents:l().func.isRequired,getDepartments:l().func.isRequired};const b=(0,s.Z)((0,o.$j)((function(e){return{sidebarState:e.main.sidebarState,subsidebarState:e.main.subsidebarState,pageHeader:e.main.pageHeader,studentsList:e.main.studentsList,departmentsList:e.main.departmentsList}}),{setsidebarState:c.Mt,setsubsidebarState:c.aj,setpageHeader:c.EQ,getStudents:c.sK,getDepartments:c.Ps})(g))}}]);